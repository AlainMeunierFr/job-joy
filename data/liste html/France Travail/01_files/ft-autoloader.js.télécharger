// version v2.15.0
"use strict";(()=>{var h={distant:"https://cdn.francetravail.fr/webco/v1",local:"."},b={distant:"https://cdn.francetravail.fr/studio",local:"https://cdn-r.ft-qvr.fr/studio"},g="",v="",l="distant";function H(){let e=document.querySelector('script[src*="ft-autoloader.js"]');e&&(l=e.dataset.local==="true"?"local":"distant"),g=h[l],v=b[l]}function M(){return g}function w(){return v}var c={calculateHostname:H,getWebcoHostname:M,getStudioHostname:w,CDNS:h,CDNS_STUDIO:b};var u=[];function T(e){return new Promise((t,o)=>{s.loadedFiles.includes(e)||s.loadedFiles.push(e),import(`${c.getWebcoHostname()}/${e}.js`).then(r=>t(r)).catch(r=>{console.warn(E(e),r),o()})})}function S(e){if(!u.includes(e)){let t=`${c.getStudioHostname()}/${e}.css`;u.push(e),document.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${t}" />`)}}function E(e){return`FTAutoloader - Erreur lors du chargement du fichier ${e}`}var s={load:T,loadStyle:S,loadedFiles:u,loadError:E};var L=[{name:"ft-collapse-directive",attribute:"data-ft-collapse"},{name:"ft-dropdown-directive",attribute:"data-ft-dropdown"},{name:"ft-charcounter",attribute:"data-ft-charcounter"},{name:"ft-tooltip-directive",attribute:"data-ft-tooltip"}],y=[];function k(e){a.loadedDirectives.length!==L.length&&L.forEach(t=>{a.loadedDirectives.includes(t.name)||e.hasAttribute(t.attribute)&&a.load(t.name)})}function C(e){return a.loadedDirectives.push(e),s.load(e)}var a={discover:k,load:C,loadedDirectives:y};var f=new Set(["ft-accessibility-center","ft-alert","ft-badge","ft-booking","ft-breadcrumb","ft-carderror","ft-captcha","ft-captcha-distant","ft-collapse","ft-connect","ft-datepicker","ft-dialog","ft-dropdown","ft-footer","ft-footer-conseiller","ft-header","ft-modal","ft-modalside","ft-pagination","ft-progressbar","ft-spinner","ft-stepper","ft-tablesort","ft-webreader","pe-breadcrumb","pe-cookies","pe-datepicker","pe-header","pe-footer","pe-subnav"]),O=[];function N(e){if(i.loadedTags.length===f.size)return;let t=e.tagName.toLowerCase();U(t)&&!customElements.get(t)&&!i.loadedTags.includes(t)&&i.load(e,t)}function _(e,t){return i.loadedTags.push(t),new Promise((o,n)=>{s.load(t).then(r=>{o(r)}).catch(()=>{n()})})}function U(e){return f.has(e)}var i={discover:N,load:_,loadedTags:O,knownComponents:f};var d=class e extends MutationObserver{static instances=[];constructor(t){super(t)}observe(t,o){super.observe(t,o),e.instances.push(this)}disconnect(){super.disconnect(),e.instances=e.instances.filter(t=>t!==this)}static getAllInstances(){return this.instances}static disconnectAllInstances(){this.instances.forEach(o=>o.disconnect())}};var m=class{trackedMutationObserver;constructor(){c.calculateHostname(),s.loadStyle("design-system/css/fonts"),this._initObservation()}registerDirective(t){return a.load(t)}registerWebcomponent(t){i.load(t,t.tagName.toLowerCase())}registerFile(t){return s.load(t)}observe(t){this.trackedMutationObserver=new d(o=>{o.forEach(n=>{if(n.type==="attributes"){let r=n.target;r instanceof HTMLElement&&a.discover(r)}n.type==="childList"&&n.addedNodes.forEach(r=>{r.nodeType===Node.ELEMENT_NODE&&this._discover(r)})})}),this.trackedMutationObserver.observe(t,{subtree:!0,childList:!0,attributeFilter:["data-ft-collapse","data-ft-dropdown","data-ft-charcounter","data-ft-tooltip"]})}_initObservation(){document.body&&this._discover(document.body),this.observe(document.documentElement)}_discover(t){let o=t instanceof HTMLElement?t:null;if(o){let n=o.shadowRoot||o;[o,...n.querySelectorAll("*")].forEach(p=>{i.discover(p),a.discover(p)})}}get knownComponents(){return i.knownComponents}},D=window;D.ftAutoloader||(D.ftAutoloader=new m);})();
