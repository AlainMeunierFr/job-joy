/**
 * Styles de contenu â€” layout app (header sticky, menu), page paramÃ©trage, tableau de bord.
 * Utilise uniquement les tokens de globals.css.
 */

/* --- Layout app (US-1.2) : header sticky + menu horizontal --- */
body.appLayout {
  margin: 0;
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-bg);
  min-height: 100vh;
}

.appHeader {
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--color-bg-card);
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-sm) var(--space-md);
}

.appNavList {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  list-style: none;
  margin: 0;
  padding: 0;
}

.appNavLink {
  color: var(--color-primary);
  text-decoration: none;
  font-weight: 500;
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-sm);
}
.appNavLink:hover {
  color: var(--color-primary-hover);
  background: var(--color-bg);
}
.appNavLinkActive {
  color: var(--color-on-primary);
  background: var(--color-primary);
}
.appNavLinkActive:hover {
  color: var(--color-on-primary);
  background: var(--color-primary-hover);
}

/* --- Titre de page H1 : masquÃ© visuellement (double emploi avec le lien actif du menu), conservÃ© pour sÃ©mantique / accessibilitÃ© --- */
.pageTitleBarTitle {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
}

.appMain {
  max-width: 100rem;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-md);
  width: 100%;
  box-sizing: border-box;
}

/* --- Page tableau de bord --- */

/* --- US-3.5 + US Statistiques : ligne 1 SynthÃ¨se pleine largeur, ligne 2 Traitements (1/3) | Statistiques scores (1/3) | Consommation API (1/3) --- */
.pageTableauDeBord {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-template-rows: auto 1fr;
  gap: var(--space-lg);
  align-items: stretch;
}

.pageTableauDeBord > [data-layout="synthese-offres"],
.pageTableauDeBord > .syntheseOffres {
  grid-row: 1;
  grid-column: 1 / -1;
  margin-top: 0;
}

.pageTableauDeBord > [data-layout="traitements"],
.pageTableauDeBord > .traitementsBloc {
  grid-row: 2;
  grid-column: 1;
  min-width: 0;
  margin-top: 0;
}

.pageTableauDeBord > [data-layout="histogramme-scores-offres"],
.pageTableauDeBord > .histogrammeScoresOffres {
  grid-row: 2;
  grid-column: 2;
  min-width: 0;
  margin-top: 0;
}

.pageTableauDeBord > [data-layout="consommation-api"],
.pageTableauDeBord > .consommationApi {
  grid-row: 2;
  grid-column: 3;
  min-width: 0;
  margin-top: 0;
}

/* Bloc Traitements : empilement vertical, titre + boutons + lignes de phase (3 colonnes Ã  bords invisibles) */
.pageTableauDeBord .traitementsBloc,
.pageTableauDeBord [data-layout="traitements"] {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
}

.pageTableauDeBord .traitementsBloc > h2,
.pageTableauDeBord [data-layout="traitements"] > h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageTableauDeBord .traitementsBlocActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  margin-bottom: var(--space-lg);
}

.pageTableauDeBord .traitementsBlocPhases,
.pageTableauDeBord [data-layout="lignes-phase"] {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

/* Ligne de phase : 3 colonnes Ã  bords invisibles (nom | thermomÃ¨tre | Ã©lÃ©ment en cours) */
.pageTableauDeBord .traitementsLignePhase,
.pageTableauDeBord [data-layout="ligne-phase"] {
  display: grid;
  grid-template-columns: minmax(6rem, auto) 1fr minmax(8rem, 1fr);
  gap: var(--space-md);
  align-items: center;
  min-height: 2.5rem;
}

.pageTableauDeBord .traitementsLignePhaseNom,
.pageTableauDeBord [data-layout="ligne-phase"] .traitementsLignePhaseNom {
  font-weight: 500;
  font-size: 0.9375rem;
  color: var(--color-text);
}

/* ThermomÃ¨tre et zone statut : pas de bord entre les colonnes (bords invisibles) */
.pageTableauDeBord .traitementsLignePhase .syntheseOffresThermo {
  display: contents;
}

.pageTableauDeBord .traitementsLignePhase .thermometreWorkerPhase1,
.pageTableauDeBord .traitementsLignePhase .thermometreWorkerEnrichissement,
.pageTableauDeBord .traitementsLignePhase .thermometreWorkerAnalyseIA {
  margin: 0;
  height: 0.35rem;
  min-height: 4px;
  background: var(--color-border);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.pageTableauDeBord .traitementsLignePhase .thermometreWorkerPhase1Bar,
.pageTableauDeBord .traitementsLignePhase .thermometreWorkerEnrichissementBar {
  height: 100%;
  width: 0;
  background: var(--color-primary);
  transition: width 0.2s ease;
}

.pageTableauDeBord .traitementsLignePhase .resultatWorkerEnrichissement {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* US-3.5 responsive : empiler Traitements, Statistiques scores et Consommation API sur une colonne */
@media (max-width: 767px) {
  .pageTableauDeBord {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
  }

  .pageTableauDeBord > [data-layout="traitements"],
  .pageTableauDeBord > .traitementsBloc {
    grid-row: 3;
    grid-column: 1;
  }

  .pageTableauDeBord > [data-layout="histogramme-scores-offres"],
  .pageTableauDeBord > .histogrammeScoresOffres {
    grid-row: 4;
    grid-column: 1;
  }

  .pageTableauDeBord > [data-layout="consommation-api"],
  .pageTableauDeBord > .consommationApi {
    grid-row: 5;
    grid-column: 1;
  }

  .pageTableauDeBord .traitementsLignePhase,
  .pageTableauDeBord [data-layout="ligne-phase"] {
    grid-template-columns: minmax(5rem, auto) 1fr;
    grid-template-rows: auto auto;
  }

  .pageTableauDeBord .traitementsLignePhase .syntheseOffresThermo {
    display: contents;
  }

  .pageTableauDeBord .traitementsLignePhase .thermometreWorkerPhase1,
  .pageTableauDeBord .traitementsLignePhase .thermometreWorkerEnrichissement,
  .pageTableauDeBord .traitementsLignePhase .thermometreWorkerAnalyseIA {
    grid-row: 1;
    grid-column: 2;
  }

  .pageTableauDeBord .traitementsLignePhase .resultatWorkerEnrichissement {
    grid-row: 2;
    grid-column: 1 / -1;
    white-space: normal;
  }
}

.pageTableauDeBord .dossierBoiteContainer {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
}

.pageTableauDeBord .dossierBoiteContainer > h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageTableauDeBord .boutonAuditerDossier,
.pageTableauDeBord .boutonLancerTraitement,
.pageTableauDeBord .boutonRafraichirSynthese,
.pageTableauDeBord .boutonWorkerEnrichissement,
.pageTableauDeBord .boutonOuvrirAirtable,
.pageTableauDeBord .boutonCalculerConsommationApi,
.pageTableauDeBord .boutonCalculerHistogrammeScores {
  margin-top: var(--space-md);
}

.pageTableauDeBord .boutonRafraichirSynthese,
.pageTableauDeBord .boutonLancerTraitement,
.pageTableauDeBord .boutonWorkerEnrichissement,
.pageTableauDeBord .boutonOuvrirAirtable,
.pageTableauDeBord .boutonCalculerConsommationApi,
.pageTableauDeBord .boutonCalculerHistogrammeScores {
  margin-right: var(--space-sm);
}

.pageTableauDeBord .auditSynthese {
  margin-top: var(--space-lg);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  overflow-x: auto;
}

.pageTableauDeBord .auditSyntheseTable {
  width: 100%;
  min-width: 16rem;
  border-collapse: collapse;
  font-size: 0.9375rem;
}

.pageTableauDeBord .auditSyntheseTable th,
.pageTableauDeBord .auditSyntheseTable td {
  padding: var(--space-sm) var(--space-md);
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.pageTableauDeBord .auditSyntheseTable thead th {
  color: var(--color-text);
  font-weight: 600;
  background: var(--color-bg);
  white-space: nowrap;
}

.pageTableauDeBord .auditSyntheseTable tbody tr:hover td {
  background: var(--color-bg);
}

.pageTableauDeBord .auditSyntheseTable tbody tr:last-child td {
  border-bottom: none;
}

/* --- US Statistiques des scores : histogramme des scores des offres (centre tableau de bord) --- */
.pageTableauDeBord .histogrammeScoresOffres,
.pageTableauDeBord [data-layout="histogramme-scores-offres"] {
  margin-top: 0;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.pageTableauDeBord .histogrammeScoresOffres h2,
.pageTableauDeBord [data-layout="histogramme-scores-offres"] h2 {
  margin: 0 0 var(--space-sm);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageTableauDeBord .histogrammeScoresOffresIntro {
  margin: 0 0 var(--space-md);
  font-size: 0.8125rem;
  color: var(--color-text-muted);
}

.pageTableauDeBord .histogrammeScoresOffresChartWrap {
  flex: 1;
  min-height: 10rem;
  margin-bottom: var(--space-sm);
  position: relative;
  display: flex;
  width: 100%;
}

.pageTableauDeBord .histogrammeScoresOffresChartWrap canvas {
  display: block;
  width: 100%;
  height: 100%;
  flex: 1;
  min-height: 10rem;
}

.pageTableauDeBord .boutonCalculerHistogrammeScores {
  margin-top: 0;
}

/* --- Consommation API (US-2.5) : tableau Ã  gauche, histogramme Ã  droite --- */
.pageTableauDeBord .consommationApi,
.pageTableauDeBord [data-layout="consommation-api"] {
  margin-top: 0;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.pageTableauDeBord .consommationApi h2,
.pageTableauDeBord [data-layout="consommation-api"] h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
}

/* Ligne tableau (gauche) + histogramme (droite) */
.pageTableauDeBord .consommationApiRow {
  display: flex;
  gap: var(--space-lg);
  align-items: flex-start;
  margin-bottom: var(--space-md);
}

.pageTableauDeBord .consommationApiTableWrap {
  flex-shrink: 0;
}

/* MÃªme police que SynthÃ¨se des offres ; colonne Date en auto, Claude/Airtable 60px */
.pageTableauDeBord .consommationApiTable {
  width: auto;
  table-layout: auto;
  border-collapse: collapse;
  font-size: 0.8125rem;
}

.pageTableauDeBord .consommationApiTable th,
.pageTableauDeBord .consommationApiTable td {
  padding: var(--space-xs) var(--space-sm);
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.pageTableauDeBord .consommationApiTable th:first-child,
.pageTableauDeBord .consommationApiTable td:first-child {
  width: auto;
  min-width: 0;
  white-space: nowrap;
}

.pageTableauDeBord .consommationApiTable th:nth-child(2),
.pageTableauDeBord .consommationApiTable td:nth-child(2),
.pageTableauDeBord .consommationApiTable th:nth-child(3),
.pageTableauDeBord .consommationApiTable td:nth-child(3) {
  width: 60px;
  min-width: 60px;
}

.pageTableauDeBord .consommationApiTable thead th {
  color: var(--color-text);
  font-weight: 600;
  background: var(--color-bg);
  white-space: nowrap;
}

.pageTableauDeBord .consommationApiTable tbody tr:hover td {
  background: var(--color-bg);
}

.pageTableauDeBord .consommationApiTable tbody tr:last-child td {
  border-bottom: none;
}

/* Histogramme Ã  droite : plus haut, graduation Y adaptÃ©e Ã  la hauteur en pixels */
.pageTableauDeBord .consommationApiHistogram {
  flex: 1;
  min-width: 12rem;
  min-height: 320px;
}

.pageTableauDeBord .consommationApiHistogram canvas {
  display: block;
  max-width: 100%;
  height: auto;
}

/* --- SynthÃ¨se des offres (US-1.7) : tableau croisÃ© expÃ©diteur Ã— statuts --- */
.pageTableauDeBord .syntheseOffres {
  margin-top: var(--space-lg);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-left: 3px solid var(--color-primary);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  display: flex;
  flex-direction: column;
  align-items: center;
}

.pageTableauDeBord .syntheseOffres h2,
.pageTableauDeBord .syntheseOffres #titre-synthese-offres {
  margin: 0 0 var(--space-md);
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text);
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

/* Wrapper pour centrer le tableau sans forcer sa largeur ; dÃ©filement si trop large */
.pageTableauDeBord .syntheseOffresTableWrap {
  width: 100%;
  overflow-x: auto;
  display: flex;
  justify-content: center;
}

.pageTableauDeBord .syntheseOffresTable {
  width: auto;
  min-width: 34rem;
  border-collapse: collapse;
  font-size: 0.75rem;
}

.pageTableauDeBord .syntheseOffresTable th,
.pageTableauDeBord .syntheseOffresTable td {
  padding: var(--space-xs) var(--space-sm);
  text-align: center;
  border-bottom: 1px solid var(--color-border);
}

/* Chiffres (Emails/Fichiers Ã  importer, statuts, Totaux) : alignÃ©s Ã  gauche */
.pageTableauDeBord .syntheseOffresTable th:nth-child(n+6),
.pageTableauDeBord .syntheseOffresTable td:nth-child(n+6) {
  text-align: left;
}

.pageTableauDeBord .syntheseOffresTable thead th {
  color: var(--color-text);
  font-weight: 600;
  background: transparent;
  white-space: normal;
  line-height: 1.1;
  vertical-align: bottom;
}

/* Titres de colonnes Ã  45Â° vers le haut : largeur uniforme, texte en diagonale (zone assez haute pour "CrÃ©er par liste html") */
.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresThRotate {
  position: relative;
  width: 2.8rem;
  min-width: 2.8rem;
  max-width: 2.8rem;
  height: 7.5rem;
  min-height: 7.5rem;
  padding: var(--space-xs) 0.25rem;
  vertical-align: bottom;
  overflow: visible;
}

/* PremiÃ¨re colonne Source : largeur fixe 150px */
.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresThSource {
  width: 150px;
  min-width: 150px;
  max-width: 150px;
  height: auto;
  position: static;
  padding: var(--space-xs) var(--space-sm);
}

.pageTableauDeBord .syntheseOffresTable td:first-child {
  width: 150px;
  max-width: 150px;
  word-break: break-word;
}

.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresThSource .syntheseOffresThLabel,
.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresThHorizontal .syntheseOffresThLabel {
  position: static;
  display: inline;
  transform: none;
  white-space: nowrap;
}

.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresThHorizontal {
  width: auto;
  min-width: 2.8rem;
  max-width: none;
  height: auto;
  position: static;
  padding: var(--space-xs) var(--space-sm);
}

.pageTableauDeBord .syntheseOffresTable thead th .syntheseOffresThLabel {
  display: inline-block;
  position: absolute;
  left: 0.5rem;
  bottom: 0.5rem;
  white-space: nowrap;
  transform: rotate(-45deg);
  transform-origin: bottom left;
  text-align: left;
  line-height: 1.2;
}

.pageTableauDeBord .syntheseOffresTable th.syntheseOffresStatutCol {
  min-width: 2.8rem;
}

.pageTableauDeBord .syntheseOffresTable th.syntheseOffresStatutCol > .syntheseOffresThLabel {
  max-width: none;
  word-break: normal;
}

.pageTableauDeBord .syntheseOffresTable .phaseEtat {
  font-size: 0.95rem;
  line-height: 1;
}

/* IcÃ´nes phase : aspect simple sans fond de bouton (comme avant) */
.pageTableauDeBord .syntheseOffresTable button.phaseEtat {
  background: none;
  border: none;
  padding: 0.15em;
  cursor: pointer;
  border-radius: 2px;
}
.pageTableauDeBord .syntheseOffresTable button.phaseEtat:hover {
  background: var(--color-bg-hover);
}

.pageTableauDeBord .syntheseOffresTable .phaseEtat--ok {
  color: var(--color-success);
}

.pageTableauDeBord .syntheseOffresTable .phaseEtat--ko {
  color: var(--color-error);
}

.pageTableauDeBord .syntheseOffresTable .phaseEtat--inactive {
  opacity: 0.85;
}

/* Toggle visuel (remplace emoji ðŸ˜´/âœ…) : piste + pastille */
.pageTableauDeBord .syntheseOffresTable .phaseEtatToggle {
  display: inline-block;
  width: 2.25rem;
  height: 1.25rem;
  border-radius: 999px;
  background: var(--color-border);
  position: relative;
  transition: background 0.2s ease, box-shadow 0.2s ease;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.08);
}
.pageTableauDeBord .syntheseOffresTable .phaseEtatToggle::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease;
}
.pageTableauDeBord .syntheseOffresTable .phaseEtatToggle--on {
  background: var(--color-primary);
}
.pageTableauDeBord .syntheseOffresTable .phaseEtatToggle--on::after {
  transform: translateX(1rem);
}
.pageTableauDeBord .syntheseOffresTable button.phaseEtat:hover .phaseEtatToggle:not(.phaseEtatToggle--on) {
  background: var(--color-text-muted, #888);
}

/* Capsule source (style liste des sources) */
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule {
  display: inline-block;
  padding: 0.15em 0.5em;
  border-radius: 999px;
  font-size: 0.8em;
  font-weight: 500;
  white-space: nowrap;
}
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--cadreemploi {
  background: #fce4ec;
  color: #880e4f;
}
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--linkedin {
  background: #bbdefb;
  color: #0d47a1;
}
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--apec {
  background: #b3e5fc;
  color: #01579b;
}
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--hellowork {
  background: #c8e6c9;
  color: #1b5e20;
}
/* WTTJ : fond clair â†’ texte noir (prioritÃ© sur hÃ©ritage) */
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--wttj,
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--welcome-to-the-jungle,
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--welcometothejungle {
  background: #ffe0b2;
  color: #1a1a1a !important;
}
/* JTMS : fond vert d'eau clair â†’ texte noir */
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--jtms,
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--job-that-make-sense,
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--job-that-makes-sense,
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--jobthatmakesense {
  background: #b2dfdb !important;
  color: #1a1a1a !important;
}
.pageTableauDeBord .syntheseOffresTable .syntheseSourceCapsule--inconnu {
  background: #eeeeee;
  color: #424242;
}

/* Colonnes statuts (6e et suivantes, aprÃ¨s crÃ©ation / enrichissement / analyse) : alignement Ã  droite pour les nombres */
.pageTableauDeBord .syntheseOffresTable th:nth-child(n+6),
.pageTableauDeBord .syntheseOffresTable td:nth-child(n+6) {
  text-align: right;
}

/* Traits verticaux entre colonnes (tbody uniquement : sâ€™arrÃªtent Ã  la ligne sous le titre) */
.pageTableauDeBord .syntheseOffresTable tbody td:nth-child(5) {
  border-right: 1px solid var(--color-border);
}
.pageTableauDeBord .syntheseOffresTable tbody td.syntheseOffresCellAAnalyser {
  border-right: 1px solid var(--color-border);
}

.pageTableauDeBord .syntheseOffresTable tbody tr:hover td {
  background: var(--color-bg);
}

.pageTableauDeBord .syntheseOffresTable tbody tr:last-child td {
  border-bottom: none;
}

/* Colonne Totaux (US-1.13) : largeur fixe, en-tÃªte + cellules identifiables */
.pageTableauDeBord .syntheseOffresTable th.syntheseOffresColTotaux,
.pageTableauDeBord .syntheseOffresTable td.syntheseOffresCellTotaux {
  width: 4.5rem;
  min-width: 4.5rem;
  max-width: 4.5rem;
  background: var(--color-bg);
  border-left: 2px solid var(--color-primary);
  font-weight: 700;
}

.pageTableauDeBord .syntheseOffresTable thead th.syntheseOffresColTotaux {
  background: transparent;
}

/* Ligne Totaux (US-1.13) : derniÃ¨re ligne du tbody */
.pageTableauDeBord .syntheseOffresTable tbody tr.syntheseOffresLigneTotaux td {
  background: var(--color-bg);
  font-weight: 700;
  border-top: 2px solid var(--color-border);
}

.pageTableauDeBord .syntheseOffresTable tbody tr.syntheseOffresLigneTotaux:hover td {
  background: var(--color-bg-hover);
}

.pageTableauDeBord .syntheseOffresActions {
  margin-top: var(--space-sm);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

/* Une seule ligne : Mise Ã  jour | Lancer/arrÃªter | Ouvrir | thermo 1 | thermo 2 */
.pageTableauDeBord .syntheseOffresActionsOneLine {
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-sm);
}

/* Toggle "Masquer les lignes vides" : alignÃ© verticalement avec les boutons (mÃªme padding vertical) */
.pageTableauDeBord .syntheseOffresActionsOneLine .syntheseOffresToggleLignesVides {
  display: inline-flex;
  align-items: center;
  align-self: center;
  gap: var(--space-sm);
  cursor: pointer;
  user-select: none;
  font-size: 0.875rem;
  color: var(--color-text);
  padding: var(--space-sm) 0;
  margin: 0;
  box-sizing: border-box;
}
.pageTableauDeBord .syntheseOffresToggleLignesVides {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  cursor: pointer;
  user-select: none;
  font-size: 0.875rem;
  color: var(--color-text);
}

.pageTableauDeBord .syntheseOffresToggleSwitchWrap {
  position: relative;
  display: inline-block;
  flex-shrink: 0;
}

.pageTableauDeBord .syntheseOffresToggleSwitchInput {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.pageTableauDeBord .syntheseOffresToggleSwitch {
  position: relative;
  display: block;
  width: 2.25rem;
  height: 1.25rem;
  border-radius: 999px;
  background: var(--color-border);
  transition: background 0.2s ease, box-shadow 0.2s ease;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.08);
}

.pageTableauDeBord .syntheseOffresToggleSwitch::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease;
}

.pageTableauDeBord .syntheseOffresToggleSwitchInput:checked + .syntheseOffresToggleSwitch {
  background: var(--color-primary);
}

.pageTableauDeBord .syntheseOffresToggleSwitchInput:checked + .syntheseOffresToggleSwitch::after {
  transform: translateX(1rem);
}

.pageTableauDeBord .syntheseOffresToggleSwitchInput:focus-visible + .syntheseOffresToggleSwitch {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

.pageTableauDeBord .syntheseOffresToggleSwitchWrap:has(.syntheseOffresToggleSwitchInput:not(:checked)):hover .syntheseOffresToggleSwitch {
  background: var(--color-text-muted, #888);
}

.pageTableauDeBord .syntheseOffresToggleLabel {
  white-space: nowrap;
}

/* Lignes masquÃ©es (total Ã  0) quand l'option est activÃ©e */
.pageTableauDeBord .syntheseOffresTable tr.syntheseOffresLigneMasquee {
  display: none;
}

.pageTableauDeBord .syntheseOffresMessage {
  margin-top: var(--space-sm);
  min-height: 1.5em;
  color: var(--color-text-secondary, #555);
}

.pageTableauDeBord .syntheseOffresMessage.syntheseOffresMessage--error {
  color: var(--color-error, #c00);
}

.pageTableauDeBord .syntheseOffresMessage.syntheseOffresMessage--warning {
  color: var(--color-warning, #b8860b);
}

.pageTableauDeBord .syntheseOffresActionsOneLine .syntheseOffresThermo {
  display: flex;
  flex-direction: column;
  min-width: 8rem;
  max-width: 16rem;
  flex: 1 1 8rem;
}

.pageTableauDeBord .syntheseOffresActionsOneLine .syntheseOffresThermo .thermometreWorkerEnrichissement,
.pageTableauDeBord .syntheseOffresActionsOneLine .syntheseOffresThermo .thermometreWorkerAnalyseIA {
  width: 100%;
  max-width: none;
}

.pageTableauDeBord .syntheseOffresActionsOneLine .resultatWorkerEnrichissement {
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.pageTableauDeBord .syntheseOffresActionsButtons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
}

.pageTableauDeBord .syntheseOffresProgress {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.pageTableauDeBord .syntheseOffresProgress .thermometreWorkerEnrichissement,
.pageTableauDeBord .syntheseOffresProgress .thermometreWorkerAnalyseIA {
  width: 100%;
  max-width: 24rem;
}

.pageTableauDeBord .syntheseOffresProgress .resultatWorkerEnrichissement {
  text-align: center;
}

.pageTableauDeBord .sourceInactive {
  cursor: help;
}

.pageTableauDeBord .auditSousTotaux,
.pageTableauDeBord #audit-sous-totaux {
  margin-top: var(--space-md);
  margin-bottom: 0;
  padding: var(--space-md);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: var(--color-bg);
}

.pageTableauDeBord .auditSousTotaux p,
.pageTableauDeBord #audit-sous-totaux p {
  margin: 0;
  font-size: 0.9375rem;
  line-height: 1.5;
}

.pageTableauDeBord .auditSousTotaux p + p,
.pageTableauDeBord #audit-sous-totaux p + p {
  margin-top: var(--space-sm);
}

.pageTableauDeBord .resultatAudit,
.pageTableauDeBord .resultatTraitement {
  margin-top: var(--space-md);
  padding: var(--space-md);
  min-height: 1.5em;
  font-size: 0.9375rem;
  line-height: 1.5;
  border-radius: var(--radius-sm);
  background: var(--color-bg);
  color: var(--color-text);
}

.pageTableauDeBord .resultatAudit--erreur,
.pageTableauDeBord .resultatTraitement--erreur {
  color: var(--color-error);
  background: var(--color-error-bg);
}

.resultatAudit,
.resultatTraitement {
  margin-top: var(--space-md);
  padding: var(--space-sm);
  min-height: 1.5em;
}
.resultatAudit--erreur,
.resultatTraitement--erreur {
  color: var(--color-error);
}
.pageTableauDeBord .thermometreAudit,
.pageTableauDeBord .thermometreTraitement {
  margin-top: var(--space-md);
  height: 0.5rem;
  min-height: 6px;
  background: var(--color-border);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.pageTableauDeBord .thermometreAuditBar,
.pageTableauDeBord .thermometreTraitementBar {
  height: 100%;
  width: 0;
  background: var(--color-primary);
  transition: width 0.2s ease;
}

.thermometreAudit,
.thermometreTraitement,
.thermometreWorkerEnrichissement,
.thermometreWorkerAnalyseIA {
  margin-top: var(--space-md);
  height: 0.5rem;
  min-height: 6px;
  background: var(--color-border);
  border-radius: var(--radius-sm);
  overflow: hidden;
}
.thermometreAuditBar,
.thermometreTraitementBar,
.thermometreWorkerEnrichissementBar,
.thermometreWorkerAnalyseIA .thermometreWorkerEnrichissementBar {
  height: 100%;
  width: 0;
  background: var(--color-primary);
  transition: width 0.2s ease;
}

.pageTableauDeBord .resultatWorkerEnrichissement,
.resultatWorkerEnrichissement {
  margin-top: var(--space-sm);
  font-size: 0.875rem;
  color: var(--color-text-muted);
}
.resultatWorkerEnrichissement--erreur {
  color: var(--color-error);
}

/* --- Page Ã€ propos (US-3.16) : version, date publication, changelog, support, GNU, mentions lÃ©gales --- */
.appMain .pageAPropos {
  margin: 0;
}
/* H1 Ã©ventuel dans le contenu (ex. APropos.html) : masquÃ©, double emploi avec le lien actif du menu */
.appMain .pageAPropos h1:first-of-type {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.pageAPropos .pageAProposVersion,
.pageAPropos .pageAProposBuildTime {
  margin: 0 0 var(--space-xs);
  font-size: 0.9375rem;
  color: var(--color-text-muted, #57606a);
}

.pageAPropos .pageAProposSommaire {
  margin-bottom: var(--space-section);
  padding: var(--space-md);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}

.pageAPropos .pageAProposSommaireIntro {
  margin: 0 0 var(--space-xs);
  font-weight: 600;
  font-size: 0.9375rem;
}

/* --- Page Documentation (sommaire + article MD) --- */
.pageDocumentation {
  max-width: 52rem;
}
.pageDocumentation .pageDocumentationNav {
  margin-bottom: var(--space-section);
}
.pageDocumentation .pageDocumentationSommaireTitle {
  margin: 0 0 var(--space-sm);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}
.pageDocumentation .pageDocumentationList {
  margin: 0;
  padding-left: var(--space-lg);
  list-style: disc;
}
.pageDocumentation .pageDocumentationLink {
  color: var(--color-link, #0969da);
}
.pageDocumentation .pageDocumentationLink:hover {
  text-decoration: underline;
}
.pageDocumentation .pageDocumentationLinkActive {
  font-weight: 600;
}
.pageDocumentation .pageDocumentationHint {
  color: var(--color-text-muted, #57606a);
  font-size: 0.9375rem;
}
.pageDocumentation .pageDocumentationArticle {
  margin-top: var(--space-md);
}
.pageDocumentation .pageDocumentationArticle h2 {
  margin: var(--space-lg) 0 var(--space-sm);
  font-size: 1.25rem;
}
.pageDocumentation .pageDocumentationArticle h3 {
  margin: var(--space-md) 0 var(--space-xs);
  font-size: 1.0625rem;
}
.pageDocumentation .pageDocumentationArticle p {
  margin: 0 0 var(--space-sm);
}
.pageDocumentation .pageDocumentationArticle ul,
.pageDocumentation .pageDocumentationArticle ol {
  margin: 0 0 var(--space-sm);
  padding-left: var(--space-lg);
}
.pageDocumentation .pageDocumentationArticle img {
  max-width: 100%;
  height: auto;
}

.pageAPropos .pageAProposSommaire ul {
  margin: 0;
  padding-left: var(--space-lg);
  list-style: disc;
}

.pageAPropos .pageAProposSommaire li {
  margin-bottom: var(--space-xs);
}

.pageAPropos .pageAProposSommaire a {
  color: var(--color-primary);
  text-decoration: none;
}

.pageAPropos .pageAProposSommaire a:hover {
  text-decoration: underline;
}

.pageAPropos .pageAProposSection {
  margin-top: var(--space-section);
  margin-bottom: var(--space-section);
}

.pageAPropos .pageAProposSection:first-of-type {
  margin-top: 0;
}

.pageAPropos .pageAProposDiagrammeFlux {
  margin-top: var(--space-md);
}

.pageAPropos .pageAProposDiagrammeFlux img {
  max-width: 100%;
  width: 100%;
  height: auto;
  display: block;
}

.pageAPropos .pageAProposSection h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

/* Pas de max-width spÃ©cifique : mÃªme largeur que les autres blocs (contrainte par .appMain) */

.pageAPropos .pageAProposSectionLegal p {
  margin: 0 0 var(--space-sm);
}

.pageAPropos .airtable-embed {
  display: block;
  max-width: 100%;
  min-height: 400px;
}

/* Bouton primaire (Design system : texte clair sur fond primary) */
.pageAPropos .pageAProposBtn {
  display: inline-block;
  padding: var(--space-sm) var(--space-md);
  background: var(--color-primary);
  color: var(--color-on-primary);
  text-decoration: none;
  border-radius: var(--radius-sm);
  font-weight: 600;
}

.pageAPropos .pageAProposBtn:hover {
  background: var(--color-primary-hover);
  color: var(--color-on-primary);
}

/* Blocs Ã€ propos : mÃªme prÃ©sentation que ParamÃ¨tres (carte + titre + contenu), espacement alignÃ© design system */
.pageAPropos .blocAPropos {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-top: var(--space-section);
}

.pageAPropos .blocAPropos:first-of-type {
  margin-top: 0;
}

.pageAPropos .blocAProposTitle {
  margin: 0;
  padding: var(--space-lg);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageAPropos .blocAProposContent {
  padding: 0 var(--space-lg) var(--space-lg);
}

.pageAPropos .blocAProposContent p {
  margin: 0 0 var(--space-sm);
}

.pageAPropos .blocAProposContent p:last-child {
  margin-bottom: 0;
}

.pageAPropos .blocAProposContent a:not(.pageAProposBtn) {
  color: var(--color-primary);
  text-decoration: none;
}

.pageAPropos .blocAProposContent a:not(.pageAProposBtn):hover {
  text-decoration: underline;
}

/* --- US-4.5 Introduction au process de paramÃ©trage --- */
.appMain .introParametrage,
.appMain details.introParametrage[data-layout="intro-parametrage"] {
  margin: 0 0 var(--space-section);
}

.introParametrage .introParametrageTitle {
  margin: 0 0 var(--space-lg);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

.introParametrage .introParametrageWhy,
.introParametrage .introParametrageWhat,
.introParametrage .introParametrageHow {
  margin-top: var(--space-xl);
}

.introParametrage .introParametrageWhy:first-of-type,
.introParametrage [data-section="why"]:first-of-type {
  margin-top: 0;
}

.introParametrage .introParametrageSectionTitle {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.introParametrage .introParametragePitch {
  margin: 0 0 var(--space-sm);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text);
}

.introParametrage .introParametragePhasesIntro,
.introParametrage .introParametrageComposantsIntro,
.introParametrage .introParametrageFluxIntro {
  margin: 0 0 var(--space-sm);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text);
}

.introParametrage .introParametragePhases,
.introParametrage .introParametrageTermesTableau {
  margin: 0 0 var(--space-md);
  padding-left: var(--space-lg);
  list-style: disc;
  font-size: 0.9375rem;
  line-height: 1.6;
}

.introParametrage .introParametragePhases li,
.introParametrage .introParametrageTermesTableau li {
  margin-bottom: var(--space-xs);
}

.introParametrage .introParametragePhases li:last-child,
.introParametrage .introParametrageTermesTableau li:last-child {
  margin-bottom: 0;
}

.introParametrage .introParametrageComposants {
  margin: 0 0 var(--space-md);
  padding-left: var(--space-lg);
  list-style: disc;
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text);
}

.introParametrage .introParametrageComposants li {
  margin-bottom: var(--space-xs);
}

.introParametrage .introParametrageComposants li:last-child {
  margin-bottom: 0;
}

.introParametrage .introParametrageConfigHint {
  margin: 0;
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--color-text-muted);
}

/* SchÃ©ma HOW : flux horizontal (blocs + flÃ¨ches), lisible et accessible */
.introParametrage .introParametrageSchema {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-sm) var(--space-md);
  margin-top: var(--space-md);
  padding: var(--space-md);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
}

.introParametrage .introParametrageSchemaBlock {
  display: inline-block;
  padding: var(--space-sm) var(--space-md);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  white-space: nowrap;
}

.introParametrage .introParametrageSchemaArrow {
  flex-shrink: 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-primary);
  line-height: 1;
}

@media (max-width: 639px) {
  .introParametrage .introParametrageSchema {
    padding: var(--space-sm) var(--space-md);
    gap: var(--space-xs) var(--space-sm);
  }

  .introParametrage .introParametrageSchemaBlock {
    font-size: 0.875rem;
    padding: var(--space-xs) var(--space-sm);
    white-space: normal;
    max-width: 100%;
  }
}

/* Diagramme flux HOW : image chargÃ©e depuis ressources/guides/diagramme-de-flux.html */
.introParametrage .introParametrageFluxDiag {
  margin-top: var(--space-md);
}

.introParametrage .introParametrageFluxDiag img {
  max-width: 100%;
  height: auto;
  display: block;
}

.introParametrage .introParametrageListeSources {
  width: 100%;
  margin: var(--space-sm) 0;
  border-collapse: collapse;
  font-size: 0.9375rem;
}

.introParametrage .introParametrageListeSources th,
.introParametrage .introParametrageListeSources td {
  padding: var(--space-xs) var(--space-sm);
  border: 1px solid var(--color-border);
  text-align: left;
}

.introParametrage .introParametrageListeSources th {
  background: var(--color-bg);
  font-weight: 600;
}

/* --- Page ParamÃ¨tres : titre unique h1 + deux blocs h2 (connexion, Airtable) --- */
.appMain .pageParametres,
.appMain .pageParametres[data-layout="page-parametres"] {
  margin: 0;
}

.pageParametres .blocParametrage,
.appMain .pageParametres .blocParametrage {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-top: var(--space-section);
  margin-bottom: var(--space-section);
}

.pageParametres .blocParametrage:first-of-type {
  margin-top: 0;
}

.pageParametres .blocParametrage:last-of-type {
  margin-bottom: 0;
}

/* Blocs dÃ©roulants (details/summary) : padding sur le contenu, pas sur le details */
.pageParametres .blocParametrage .blocParametrageContent {
  padding: 0 var(--space-lg) var(--space-lg);
}

.pageParametres .blocParametrage[open] .blocParametrageContent {
  padding-top: var(--space-sm);
}

/* Avant propos : contenu docs/telecharger.html â€” masquer le bloc tÃ©lÃ©chargement (rÃ©servÃ© Ã  la page standalone GitHub) */
.blocParametrageContent-avantPropos .page-header {
  display: none;
}

.pageParametres .blocParametrageSummary,
.appMain .pageParametres .blocParametrageSummary {
  margin: 0;
  padding: var(--space-lg);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
  cursor: pointer;
  list-style: none;
  display: block;
}

.pageParametres .blocParametrageSummary::-webkit-details-marker,
.appMain .pageParametres .blocParametrageSummary::-webkit-details-marker {
  display: none;
}

.pageParametres .blocParametrageSummary::marker {
  display: none;
}

.pageParametres .blocParametrageSummary::before,
.appMain .pageParametres .blocParametrageSummary::before {
  content: '';
  display: inline-block;
  width: 0.5em;
  height: 0.5em;
  margin-right: var(--space-sm);
  border-right: 2px solid var(--color-text);
  border-bottom: 2px solid var(--color-text);
  transform: rotate(45deg);
  transform-origin: center;
  transition: transform 0.2s;
  vertical-align: 0.2em;
}

.pageParametres .blocParametrage[open] .blocParametrageSummary::before,
.appMain .pageParametres .blocParametrage[open] .blocParametrageSummary::before {
  transform: rotate(-135deg);
}

.pageParametres .blocParametrageSummary:hover,
.appMain .pageParametres .blocParametrageSummary:hover {
  color: var(--color-primary);
}

/* Hauteur uniforme des containers fermÃ©s : mÃªme min-height pour tous les summary */
.pageParametres .blocParametrage:not([open]) > .blocParametrageSummary,
.appMain .pageParametres .blocParametrage:not([open]) > .blocParametrageSummary {
  min-height: calc(2 * var(--space-lg) + 2em);
  box-sizing: border-box;
}

.pageParametres .blocParametrageTitle,
.appMain .pageParametres .blocParametrageTitle {
  margin: 0 0 var(--space-md);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

/* Premier bloc : la .formCard est Ã  l'intÃ©rieur, on enlÃ¨ve son propre cadre pour Ã©viter le double encadrÃ© */
.pageParametres .blocParametrage-connexion .formCard,
.appMain .pageParametres .blocParametrage-connexion .formCard {
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-bottom: 0;
}

/* --- Page paramÃ©trage compte email (US-1.1) â€” dans .appMain --- */
.appMain .parametrageCompteEmail[data-layout="parametrage-compte"],
.appMain .parametrageCompteEmail[data-layout="page-parametres"],
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail[data-layout="parametrage-compte"] {
  margin: 0;
}

.appMain .parametrageCompteEmail .formCompte ~ *,
.appMain .parametrageCompteEmail h1 {
  margin-top: 0;
}
.appMain .pageParametres .blocParametrageTitle {
  margin-top: 0;
}

/* --- Mode de connexion : 3 radios + 3 boutons (labels) + 3 containers, visibilitÃ© en CSS --- */
.parametrageCompteEmail .providerChoiceRadios,
.appMain .parametrageCompteEmail .providerChoiceRadios {
  border: none;
  padding: 0;
  margin: 0 0 var(--space-sm);
}

.parametrageCompteEmail .providerChoiceRadios > legend,
.appMain .parametrageCompteEmail .providerChoiceRadios > legend {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: var(--space-sm);
  padding: 0;
}

.parametrageCompteEmail .providerChoiceRadios .providerRadio,
.appMain .parametrageCompteEmail .providerChoiceRadios .providerRadio {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

.parametrageCompteEmail .providerChoiceRadios .providerModeBtn,
.appMain .parametrageCompteEmail .providerChoiceRadios .providerModeBtn {
  display: inline-block;
  padding: var(--space-xs) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-primary);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  text-decoration: none;
  margin-right: var(--space-sm);
  margin-bottom: var(--space-sm);
  transition: color 0.15s, background 0.15s, border-color 0.15s;
}

.parametrageCompteEmail .providerChoiceRadios .providerModeBtn:hover,
.appMain .parametrageCompteEmail .providerChoiceRadios .providerModeBtn:hover {
  color: var(--color-primary-hover);
  background: var(--color-border);
}

.parametrageCompteEmail .providerChoiceRadios #provider-imap:checked ~ .providerModeBtn[for="provider-imap"],
.parametrageCompteEmail .providerChoiceRadios #provider-microsoft:checked ~ .providerModeBtn[for="provider-microsoft"],
.parametrageCompteEmail .providerChoiceRadios #provider-gmail:checked ~ .providerModeBtn[for="provider-gmail"],
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-imap:checked ~ .providerModeBtn[for="provider-imap"],
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-microsoft:checked ~ .providerModeBtn[for="provider-microsoft"],
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-gmail:checked ~ .providerModeBtn[for="provider-gmail"] {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.parametrageCompteEmail .providerChoiceRadios .blocProvider,
.appMain .parametrageCompteEmail .providerChoiceRadios .blocProvider {
  display: none;
}

.parametrageCompteEmail .providerChoiceRadios #provider-imap:checked ~ #bloc-imap,
.parametrageCompteEmail .providerChoiceRadios #provider-microsoft:checked ~ #bloc-microsoft,
.parametrageCompteEmail .providerChoiceRadios #provider-gmail:checked ~ #bloc-gmail,
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-imap:checked ~ #bloc-imap,
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-microsoft:checked ~ #bloc-microsoft,
.appMain .parametrageCompteEmail .providerChoiceRadios #provider-gmail:checked ~ #bloc-gmail {
  display: block;
}

.parametrageCompteEmail .blocProvider,
.appMain .parametrageCompteEmail .blocProvider {
  margin-bottom: var(--space-md);
  min-height: 8.5rem;
}

.parametrageCompteEmail .blocImapRow,
.appMain .parametrageCompteEmail .blocImapRow {
  display: flex;
  gap: var(--space-md);
  flex-wrap: wrap;
  margin-bottom: var(--space-md);
}

.parametrageCompteEmail .blocImapRow .fieldGroup,
.appMain .parametrageCompteEmail .blocImapRow .fieldGroup {
  flex: 1;
  min-width: 8rem;
  margin-bottom: 0;
}

.parametrageCompteEmail .blocImapRow .fieldGroup--port,
.appMain .parametrageCompteEmail .blocImapRow .fieldGroup--port {
  flex: 0 0 5rem;
}

.parametrageCompteEmail .blocImapRow .fieldGroup--tls,
.appMain .parametrageCompteEmail .blocImapRow .fieldGroup--tls {
  flex: 0 0 auto;
  display: flex;
  align-items: flex-end;
  padding-bottom: var(--space-xs);
}

.parametrageCompteEmail .blocImapRow .labelCheckbox,
.appMain .parametrageCompteEmail .blocImapRow .labelCheckbox {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  margin-bottom: 0;
  white-space: nowrap;
}

.parametrageCompteEmail .blocImapRow:last-child,
.appMain .parametrageCompteEmail .blocImapRow:last-child {
  margin-bottom: 0;
}

.parametrageCompteEmail .providerHint,
.appMain .parametrageCompteEmail .providerHint {
  margin: 0 0 var(--space-sm);
  color: var(--color-text-muted);
  font-size: 0.9375rem;
}

.parametrageCompteEmail .fieldHint,
.appMain .parametrageCompteEmail .fieldHint {
  margin: 0 0 var(--space-sm);
  color: var(--color-text-muted);
  font-size: 0.875rem;
}

.parametrageCompteEmail .fieldHint code,
.appMain .parametrageCompteEmail .fieldHint code {
  font-size: 0.8125rem;
  padding: 0.1em 0.35em;
  background: var(--color-bg);
  border-radius: var(--radius-sm);
}

.parametrageCompteEmail .providerEmailInfo,
.appMain .parametrageCompteEmail .providerEmailInfo {
  margin: 0;
  color: var(--color-text-muted);
  font-size: 0.875rem;
}

.parametrageCompteEmail .providerComing,
.appMain .parametrageCompteEmail .providerComing {
  margin: 0;
  padding: var(--space-md);
  color: var(--color-text-muted);
  font-style: italic;
  background: var(--color-bg);
  border-radius: var(--radius-sm);
}

.parametrageCompteEmail .btnPrimary,
.appMain .parametrageCompteEmail .btnPrimary,
.pageTableauDeBord .boutonAuditerDossier,
.pageTableauDeBord .boutonLancerTraitement {
  display: inline-block;
  min-height: var(--touch-min);
  min-width: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background 0.15s;
}

.parametrageCompteEmail .btnPrimary:hover,
.appMain .parametrageCompteEmail .btnPrimary:hover,
.pageTableauDeBord .boutonAuditerDossier:hover,
.pageTableauDeBord .boutonLancerTraitement:hover {
  background: var(--color-primary-hover);
}

.parametrageCompteEmail .btnPrimary:focus,
.appMain .parametrageCompteEmail .btnPrimary:focus,
.pageTableauDeBord .boutonAuditerDossier:focus,
.pageTableauDeBord .boutonLancerTraitement:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

.pageTableauDeBord .boutonAuditerDossier:disabled,
.pageTableauDeBord .boutonLancerTraitement:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.parametrageCompteEmail .btnSecondary,
.appMain .parametrageCompteEmail .btnSecondary,
.pageTableauDeBord .boutonRafraichirSynthese,
.pageTableauDeBord .boutonWorkerEnrichissement,
.pageTableauDeBord .boutonOuvrirAirtable,
.pageTableauDeBord .boutonCalculerConsommationApi,
.pageTableauDeBord .boutonCalculerHistogrammeScores,
.pageOffres .btnSecondary,
.appMain .pageOffres .btnSecondary {
  display: inline-block;
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background 0.15s, border-color 0.15s;
}

.parametrageCompteEmail .btnSecondary:hover,
.appMain .parametrageCompteEmail .btnSecondary:hover,
.pageTableauDeBord .boutonRafraichirSynthese:hover,
.pageTableauDeBord .boutonWorkerEnrichissement:hover,
.pageTableauDeBord .boutonOuvrirAirtable:hover,
.pageTableauDeBord .boutonCalculerConsommationApi:hover,
.pageTableauDeBord .boutonCalculerHistogrammeScores:hover,
.pageOffres .btnSecondary:hover,
.appMain .pageOffres .btnSecondary:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
}

.parametrageCompteEmail .btnSecondary:focus,
.appMain .parametrageCompteEmail .btnSecondary:focus,
.pageTableauDeBord .boutonRafraichirSynthese:focus,
.pageTableauDeBord .boutonWorkerEnrichissement:focus,
.pageTableauDeBord .boutonOuvrirAirtable:focus,
.pageTableauDeBord .boutonCalculerConsommationApi:focus,
.pageTableauDeBord .boutonCalculerHistogrammeScores:focus,
.pageOffres .btnSecondary:focus,
.appMain .pageOffres .btnSecondary:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.3);
}

/* US-7.9 : page Offres â€” barre de vues horizontale au-dessus du grid, grid pleine largeur/hauteur, police rÃ©duite */
.appMain:has(.pageOffres) {
  display: flex;
  flex-direction: column;
  max-width: none;
  padding: var(--space-md);
  min-height: calc(100vh - 4rem);
}
.appMain:has(.pageOffres) .pageOffres {
  flex: 1;
  min-height: 0;
}
.pageOffres {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  font-size: 0.8125rem;
}

/* Gestionnaire de vues : barre horizontale au-dessus du tableau. */
.pageOffresSidebar {
  flex-shrink: 0;
  width: 100%;
  display: flex;
  flex-direction: row;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-sm);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-md);
}
.pageOffresSidebarTitle {
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--color-text);
  margin: 0;
  padding-right: var(--space-sm);
  border-bottom: none;
  border-right: 1px solid var(--color-border);
  margin-right: var(--space-xs);
}
.pageOffresVuesList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: var(--space-xs);
  flex: 1;
  min-width: 0;
}
.pageOffresVueItem {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  padding: var(--space-xs) var(--space-sm);
  transition: background 0.15s, border-color 0.15s;
}
.pageOffresVueItem:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
}
.pageOffresVueLink {
  flex: 1;
  min-width: 0;
  padding: var(--space-xs) 0;
  font-family: var(--font-sans);
  font-size: inherit;
  font-weight: 500;
  color: var(--color-primary);
  background: none;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.pageOffresVueLink:hover {
  color: var(--color-primary-hover);
  text-decoration: underline;
}
.pageOffresVueLink:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.3);
}
.pageOffresVueActions {
  display: flex;
  gap: 2px;
  flex-shrink: 0;
}
.pageOffresVueAction {
  width: 1.5rem;
  height: 1.5rem;
  padding: 0;
  font-size: 0.75rem;
  line-height: 1;
  color: var(--color-text-muted, #57606a);
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: color 0.15s, background 0.15s;
}
.pageOffresVueAction:hover {
  color: var(--color-primary);
  background: var(--color-bg-hover);
}
.pageOffresVueAction:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.3);
}
.pageOffresBoutonCreerVue {
  width: auto;
  margin: 0;
  margin-left: auto;
  flex-shrink: 0;
}

.pageOffresGridWrap {
  flex: 1;
  min-width: 0;
  min-height: 0;
  display: flex;
  flex-direction: column;
}
/* Grid RevoGrid ou fallback : occupe toute la largeur et la hauteur restante. */
.pageOffresGrid {
  flex: 1;
  min-height: 0;
  width: 100%;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  overflow: auto;
  display: flex;
  flex-direction: column;
}
.pageOffresGrid revo-grid {
  flex: 1;
  width: 100%;
  min-height: 0;
}
/* Compte lignes X/Total sous le grid (non natif RevoGrid). */
.pageOffresGridFooter {
  margin: var(--space-xs) 0 0;
  padding: var(--space-xs) 0;
  font-size: 0.75rem;
  color: var(--color-text-muted, #57606a);
  flex-shrink: 0;
}
.pageOffresTableFallback {
  width: 100%;
  border-collapse: collapse;
  font-size: inherit;
}
.pageOffresTableFallback th,
.pageOffresTableFallback td {
  padding: var(--space-xs) var(--space-sm);
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}
.pageOffresTableFallback th {
  font-weight: 600;
  background: var(--color-bg-subtle);
}

.pageTableauDeBord .boutonWorkerEnrichissement[data-running="1"] {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.pageTableauDeBord .boutonOuvrirAirtable:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

/* --- Convention app : 3 types de boutons --- */
/* Type 1 : Enregistrement (action principale de sauvegarde) */
.btnEnregistrement,
button.btnEnregistrement {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: 1px solid var(--color-primary);
}
.btnEnregistrement:hover,
button.btnEnregistrement:hover {
  background: var(--color-primary-hover);
  border-color: var(--color-primary-hover);
}
/* Type 2 : Autre action dans le site */
.btnAction,
button.btnAction {
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
}
.btnAction:hover,
button.btnAction:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
}
/* Type 3 : Ouverture d'un lien externe */
.btnExterne,
button.btnExterne,
a.btnExterne {
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  text-decoration: none;
  display: inline-block;
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background 0.15s, border-color 0.15s;
}
.btnExterne:hover,
button.btnExterne:hover,
a.btnExterne:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
}
.btnExterne:focus,
button.btnExterne:focus,
a.btnExterne:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.3);
}

.visuallyHidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* --- Carte formulaire : regroupe mode de connexion + dossier + actions --- */
.parametrageCompteEmail .formCard,
.appMain .parametrageCompteEmail .formCard {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  margin-bottom: var(--space-xl);
}

.parametrageCompteEmail .formDivider,
.appMain .parametrageCompteEmail .formDivider {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: var(--space-lg) 0;
}

.parametrageCompteEmail .fieldGroup-dossier,
.appMain .parametrageCompteEmail .fieldGroup-dossier {
  border: none;
  padding: 0;
  margin: 0;
}

.parametrageCompteEmail .fieldGroup-dossier > legend,
.appMain .parametrageCompteEmail .fieldGroup-dossier > legend {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: var(--space-sm);
  padding: 0;
}

/* --- Formulaire (pas de style propre, il est dans .formCard) --- */
.parametrageCompteEmail .formCompte,
.appMain .parametrageCompteEmail .formCompte {
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-bottom: 0;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup {
  margin-bottom: var(--space-md);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup:last-of-type {
  margin-bottom: 0;
}

/* Consentement identification (US-3.15) : rappel date/heure quand dÃ©jÃ  envoyÃ© */
.parametrageCompteEmail .fieldGroup-consentement .consentementRappel,
.appMain .parametrageCompteEmail .fieldGroup-consentement .consentementRappel {
  margin: 0;
  color: var(--text-secondary, #555);
}

/* Consentement identification (US-3.15) : mÃªme pattern checkbox que .blocImapRow .labelCheckbox, texte long autorisÃ© */
.parametrageCompteEmail .fieldGroup-consentement .labelCheckbox,
.appMain .parametrageCompteEmail .fieldGroup-consentement .labelCheckbox {
  display: inline-flex;
  align-items: flex-start;
  gap: var(--space-xs);
  margin-bottom: 0;
  white-space: normal;
}

/* DÃ©sactiver Tester connexion et Enregistrer tant que la case consentement nâ€™est pas cochÃ©e (CSS seul, :has()) */
#form-compte:has(#consentement-identification:not(:checked)) #bouton-test-connexion,
#form-compte:has(#consentement-identification:not(:checked)) #bouton-enregistrer {
  pointer-events: none;
  opacity: 0.6;
  cursor: not-allowed;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup label {
  display: block;
  margin-bottom: var(--space-xs);
  font-weight: 500;
  color: var(--color-text);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup input[type="email"],
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup input[type="text"],
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup input[type="password"] {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .fieldGroup input:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

/* Mot de passe + icÃ´ne Å“il dans la zone de saisie */
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper {
  position: relative;
  display: flex;
  align-items: center;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper input {
  flex: 1;
  min-width: 0;
  padding-right: var(--touch-min);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: var(--touch-min);
  min-width: var(--touch-min);
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-sans);
  color: var(--color-text-muted);
  background: transparent;
  border: none;
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
  cursor: pointer;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn:hover {
  color: var(--color-primary);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn:focus {
  outline: none;
  color: var(--color-primary);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn .iconEye,
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn .iconEyeOff {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn [hidden] {
  display: none !important;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .passwordWrapper .togglePasswordBtn svg {
  display: block;
}

/* Dossier Ã  analyser : bouton Tester connexion (z-index pour Ã©viter qu'un overlay intercepte le clic) */
body.parametrageCompteEmail .actions-dossier,
.appMain .parametrageCompteEmail .actions-dossier {
  margin-top: var(--space-sm);
  margin-bottom: 0;
  position: relative;
  z-index: 1;
}
body.parametrageCompteEmail .actions-dossier #bouton-test-connexion,
.appMain .parametrageCompteEmail .actions-dossier #bouton-test-connexion {
  position: relative;
  z-index: 2;
  cursor: pointer;
}

/* Boutons du formulaire : Annuler, Enregistrer */
body.parametrageCompteEmail .actions-formulaire,
.appMain .parametrageCompteEmail .actions-formulaire {
  margin-top: var(--space-lg);
}

/* Actions (Tester connexion, Annuler, Enregistrer) */
body.parametrageCompteEmail .actions,
.appMain .parametrageCompteEmail .actions {
  margin-top: var(--space-lg);
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-md);
}

body.parametrageCompteEmail .actionsLeft,
.appMain .parametrageCompteEmail .actionsLeft {
  display: flex;
  gap: var(--space-md);
}

body.parametrageCompteEmail .actionsRight,
.appMain .parametrageCompteEmail .actionsRight {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button {
  min-height: var(--touch-min);
  min-width: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button[type="button"] {
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button[type="button"]:hover {
  background: var(--color-border);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button[type="submit"] {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button[type="submit"]:hover {
  background: var(--color-primary-hover);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .actions button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

/* --- Zone rÃ©sultat test connexion --- */
body.parametrageCompteEmail .zoneResultatTest,
.appMain .parametrageCompteEmail .zoneResultatTest {
  margin-top: var(--space-lg);
  margin-bottom: var(--space-xl);
}

body.parametrageCompteEmail .resultatTestMessage,
.appMain .parametrageCompteEmail .resultatTestMessage {
  display: block;
  min-height: 2.5rem;
  padding: var(--space-md);
  border-radius: var(--radius-sm);
  font-weight: 500;
  margin-bottom: var(--space-sm);
  box-sizing: border-box;
  color: var(--color-text);
  background: var(--color-bg);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .resultatTestMessage[data-type="attente"] {
  color: var(--color-text-muted);
  background: var(--color-bg);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .resultatTestMessage[data-type="succÃ¨s"] {
  color: var(--color-success);
  background: var(--color-success-bg);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .resultatTestMessage[data-type="erreur"] {
  color: var(--color-error);
  background: var(--color-error-bg);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .tableauResultat {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .tableauResultat th,
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .tableauResultat td {
  padding: var(--space-sm) var(--space-md);
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .tableauResultat th {
  background: var(--color-bg);
  font-weight: 600;
  color: var(--color-text);
}

body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .tableauResultat tbody tr:last-child td {
  border-bottom: none;
}

/* --- Feedback enregistrement --- */
body.parametrageCompteEmail,
.appMain .parametrageCompteEmail .feedbackEnregistrement {
  padding: var(--space-md);
  min-height: 1.5em;
  color: var(--color-text-muted);
  font-size: 0.9375rem;
}

/* Feedback enregistrement â€” erreur (US-1.6 Â« Il reste Ã  terminer : â€¦ Â»), cohÃ©rent avec resultatTestMessage / statutConfigurationAirtable */
#feedback-enregistrement[data-type="erreur"],
body.parametrageCompteEmail .feedbackEnregistrement--erreur,
.appMain .parametrageCompteEmail .feedbackEnregistrement--erreur,
#feedback-enregistrement.feedbackEnregistrement--erreur {
  color: var(--color-error);
  background: var(--color-error-bg);
  border-radius: var(--radius-sm);
}

/* Feedback enregistrement API IA (Ã  cÃ´tÃ© du bouton Enregistrer) */
.appMain .feedbackEnregistrementIa,
#feedback-enregistrement-ia.feedbackEnregistrementIa {
  font-size: 0.9375rem;
  margin-left: var(--space-sm);
}
#feedback-enregistrement-ia[data-type="succes"] {
  color: var(--color-success, #0d7d0d);
}
#feedback-enregistrement-ia[data-type="erreur"] {
  color: var(--color-error);
}

/* --- Configuration Airtable (US-1.3) â€” mÃªme page ParamÃ¨tres --- */
.appMain .configurationAirtable[data-layout="configuration-airtable"]:not(.blocParametrage),
.parametrageCompteEmail .configurationAirtable[data-layout="configuration-airtable"]:not(.blocParametrage) {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  margin-top: var(--space-xl);
}

/* Quand Airtable est dans .blocParametrage, le style carte vient dÃ©jÃ  de .blocParametrage */
.pageParametres .blocParametrage-airtable.configurationAirtable {
  margin-top: 0;
}

.parametrageCompteEmail .configurationAirtable h2,
.appMain .parametrageCompteEmail .configurationAirtable h2 {
  margin: 0 0 var(--space-md);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

.parametrageCompteEmail .zoneTutorielAirtable,
.appMain .parametrageCompteEmail .zoneTutorielAirtable {
  margin-bottom: var(--space-lg);
  padding: var(--space-md);
  background: var(--color-bg);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size: 0.9375rem;
  line-height: 1.5;
}

.parametrageCompteEmail .zoneTutorielAirtable a,
.appMain .parametrageCompteEmail .zoneTutorielAirtable a,
.pageParametres .zoneTutorielAirtable a,
.appMain .pageParametres .zoneTutorielAirtable a {
  color: var(--color-primary);
  text-decoration: underline;
  cursor: pointer;
}

.parametrageCompteEmail .zoneTutorielAirtable a:hover,
.appMain .parametrageCompteEmail .zoneTutorielAirtable a:hover,
.pageParametres .zoneTutorielAirtable a:hover,
.appMain .pageParametres .zoneTutorielAirtable a:hover {
  color: var(--color-primary-hover);
  text-decoration: underline;
}

.parametrageCompteEmail .configurationAirtable .fieldGroup,
.appMain .parametrageCompteEmail .configurationAirtable .fieldGroup {
  margin-bottom: var(--space-md);
}

.parametrageCompteEmail .configurationAirtable .fieldGroup:last-of-type,
.appMain .parametrageCompteEmail .configurationAirtable .fieldGroup:last-of-type {
  margin-bottom: 0;
}

.parametrageCompteEmail .actions.actions-configuration-airtable,
.appMain .parametrageCompteEmail .actions.actions-configuration-airtable {
  margin-top: var(--space-lg);
}

.parametrageCompteEmail .actions.actions-configuration-airtable button,
.appMain .parametrageCompteEmail .actions.actions-configuration-airtable button {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
  min-height: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
}

.parametrageCompteEmail .actions.actions-configuration-airtable button:hover,
.appMain .parametrageCompteEmail .actions.actions-configuration-airtable button:hover {
  background: var(--color-primary-hover);
}

.parametrageCompteEmail .actions.actions-configuration-airtable button:focus,
.appMain .parametrageCompteEmail .actions.actions-configuration-airtable button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

.parametrageCompteEmail .statutConfigurationAirtable,
.appMain .parametrageCompteEmail .statutConfigurationAirtable {
  display: block;
  margin-top: var(--space-md);
  padding: var(--space-md);
  border-radius: var(--radius-sm);
  font-weight: 500;
  min-height: 1.5em;
  box-sizing: border-box;
  color: var(--color-text-muted);
  background: var(--color-bg);
}

.parametrageCompteEmail .statutConfigurationAirtable[data-type="succÃ¨s"],
.appMain .parametrageCompteEmail .statutConfigurationAirtable[data-type="succÃ¨s"] {
  color: var(--color-success);
  background: var(--color-success-bg);
}

.parametrageCompteEmail .statutConfigurationAirtable[data-type="erreur"],
.appMain .parametrageCompteEmail .statutConfigurationAirtable[data-type="erreur"] {
  color: var(--color-error);
  background: var(--color-error-bg);
}

/* --- Configuration ClaudeCode (US-2.2) â€” mÃªme prÃ©sentation que les autres blocs ParamÃ¨tres --- */
.pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode,
.pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode,
.appMain .pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode,
.appMain .pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode {
  margin-bottom: var(--space-lg);
  padding: var(--space-md);
  background: var(--color-bg);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size: 0.9375rem;
  line-height: 1.5;
}

.pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode a,
.pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode a,
.appMain .pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode a,
.appMain .pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode a {
  color: var(--color-primary);
  text-decoration: underline;
  cursor: pointer;
}

.pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode a:hover,
.pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode a:hover,
.appMain .pageParametres .blocParametrage-claudecode #zone-tutoriel-claudecode a:hover,
.appMain .pageParametres .blocParametrage-claudecode .zoneTutorielClaudecode a:hover {
  color: var(--color-primary-hover);
  text-decoration: underline;
}

.pageParametres .blocParametrage-claudecode .fieldGroup,
.appMain .pageParametres .blocParametrage-claudecode .fieldGroup {
  margin-bottom: var(--space-md);
}

.pageParametres .blocParametrage-claudecode .fieldGroup label,
.appMain .pageParametres .blocParametrage-claudecode .fieldGroup label {
  display: block;
  margin-bottom: var(--space-xs);
  font-weight: 500;
  color: var(--color-text);
}

.pageParametres .blocParametrage-claudecode .fieldGroup input[type="password"],
.appMain .pageParametres .blocParametrage-claudecode .fieldGroup input[type="password"] {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .blocParametrage-claudecode .fieldGroup input:focus,
.appMain .pageParametres .blocParametrage-claudecode .fieldGroup input:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

.pageParametres .blocParametrage-claudecode .indicateurCleEnregistree,
.appMain .pageParametres .blocParametrage-claudecode .indicateurCleEnregistree {
  display: block;
  margin-top: var(--space-xs);
  font-size: 0.9375rem;
  color: var(--color-text-muted);
}

.pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode,
.appMain .pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode {
  margin-top: var(--space-lg);
}

.pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button,
.appMain .pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
  min-height: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button:hover,
.appMain .pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button:hover {
  background: var(--color-primary-hover);
}

.pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button:focus,
.appMain .pageParametres .blocParametrage-claudecode .actions.actions-configuration-claudecode button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

/* --- Zone test ClaudeCode (US-2.4) : textarea, boutons, zone rÃ©sultat (dans ParamÃ©trage IA ou anciennement ClaudeCode) --- */
.pageParametres .blocParametrage-claudecode .zoneTestClaudecode[data-layout="zone-test-claudecode"],
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode[data-layout="zone-test-claudecode"],
.pageParametres .blocParametrage-ia .zoneTestClaudecode[data-layout="zone-test-claudecode"],
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode[data-layout="zone-test-claudecode"] {
  margin-top: var(--space-lg);
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* MÃ©tadonnÃ©es offre test : 2 champs par ligne */
.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestRow,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestRow,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestRow,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestRow {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md) var(--space-lg);
  margin-top: var(--space-sm);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField label,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField label,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField label,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField label {
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField input,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .metadonneesOffreTestField input,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField input,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .metadonneesOffreTestField input {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest {
  width: 100%;
  max-width: 100%;
  min-height: 8rem;
  box-sizing: border-box;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  resize: vertical;
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest:focus,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest:focus,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest:focus,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .fieldGroup textarea.zoneTexteOffreTest:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

/* Section API IA (Mistral) : mÃªme mise en page zone test que blocParametrage-ia / zoneTestClaudecode */
.pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup.fieldGroup-metadonnees-offre,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup.fieldGroup-metadonnees-offre,
.pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestRow,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestRow {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md) var(--space-lg);
  margin-top: var(--space-sm);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField label,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField label {
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-text);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField input,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .metadonneesOffreTestField input {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup textarea.zoneTexteOffreTest,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup textarea.zoneTexteOffreTest {
  width: 100%;
  max-width: 100%;
  min-height: 8rem;
  box-sizing: border-box;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  resize: vertical;
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup textarea.zoneTexteOffreTest:focus,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .fieldGroup textarea.zoneTexteOffreTest:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-recuperer-offre,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-recuperer-offre,
.pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api {
  margin-top: var(--space-md);
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  align-items: center;
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api button,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api button {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
  min-height: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api button:hover,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .actions.actions-tester-api button:hover {
  background: var(--color-primary-hover);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre,
.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api {
  margin-top: var(--space-md);
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  align-items: center;
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre button,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre button,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre button,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre button {
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  min-height: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre button:hover,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-recuperer-offre button:hover,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre button:hover,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-recuperer-offre button:hover {
  background: var(--color-bg-hover);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api button,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api button,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api button,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api button {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
  min-height: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api button:hover,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions.actions-tester-api button:hover,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api button:hover,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions.actions-tester-api button:hover {
  background: var(--color-primary-hover);
}

.pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions button:focus,
.appMain .pageParametres .blocParametrage-claudecode .zoneTestClaudecode .actions button:focus,
.pageParametres .blocParametrage-ia .zoneTestClaudecode .actions button:focus,
.appMain .pageParametres .blocParametrage-ia .zoneTestClaudecode .actions button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

/* Zone rÃ©sultat test API ClaudeCode */
.pageParametres .blocParametrage-claudecode #zone-resultat-test-claudecode,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode,
.pageParametres .blocParametrage-ia #zone-resultat-test-claudecode,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode {
  margin-top: var(--space-lg);
  padding: var(--space-md);
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.5;
  min-height: 2.5rem;
  width: 100%;
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

/* Ã‰tat attente (ex. "Test en coursâ€¦") ou vide */
.pageParametres .blocParametrage-claudecode #zone-resultat-test-claudecode:not([data-type="succes"]):not(.zoneResultatTestClaudecode--erreur),
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode:not([data-type="succes"]):not(.zoneResultatTestClaudecode--erreur),
.pageParametres .blocParametrage-ia #zone-resultat-test-claudecode:not([data-type="succes"]):not(.zoneResultatTestClaudecode--erreur),
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode:not([data-type="succes"]):not(.zoneResultatTestClaudecode--erreur) {
  color: var(--color-text-muted);
  background: var(--color-bg);
}

.pageParametres .blocParametrage-claudecode #zone-resultat-test-claudecode[data-type="succes"],
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode[data-type="succes"],
.pageParametres .blocParametrage-ia #zone-resultat-test-claudecode[data-type="succes"],
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode[data-type="succes"] {
  color: var(--color-text);
  background: var(--color-bg);
}

.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode--erreur,
.appMain .pageParametres .blocParametrage-claudecode #zone-resultat-test-claudecode.zoneResultatTestClaudecode--erreur,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode.zoneResultatTestClaudecode--erreur,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode--erreur,
.appMain .pageParametres .blocParametrage-ia #zone-resultat-test-claudecode.zoneResultatTestClaudecode--erreur,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode.zoneResultatTestClaudecode--erreur {
  color: var(--color-error);
  background: var(--color-error-bg);
  font-weight: 500;
}

/* Bloc de texte du rÃ©sultat (succÃ¨s) â€” affichage lisible avec retours Ã  la ligne, pas JSON brut */
.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeTexte,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeTexte,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeTexte,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeTexte {
  margin: 0;
  padding: var(--space-md);
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-api-ia .zoneTestApiIa .resultatTestClaudecodeTexte,
.appMain .pageParametres .blocParametrage-api-ia .zoneTestApiIa .resultatTestClaudecodeTexte,
#zone-resultat-test-ia .resultatTestClaudecodeTexte {
  margin: 0;
  padding: var(--space-md);
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}
#zone-resultat-test-ia {
  max-width: 100%;
  min-width: 0;
  overflow-wrap: break-word;
  word-break: break-word;
}

.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation {
  margin: var(--space-sm) 0 0;
  font-size: 0.875rem;
}
.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--ok,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--ok,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--ok,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--ok {
  color: var(--color-success, #0d7d3d);
}
.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--erreur,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--erreur,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--erreur,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidation--erreur {
  color: var(--color-error);
  font-weight: 500;
}

.pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidationListe,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatTestClaudecode .resultatTestClaudecodeValidationListe,
.pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidationListe,
.appMain .pageParametres .blocParametrage-ia .zoneResultatTestClaudecode .resultatTestClaudecodeValidationListe {
  margin: var(--space-xs) 0 0 var(--space-md);
  padding-left: var(--space-md);
  font-size: 0.875rem;
  color: var(--color-error);
}

/* --- Zone rÃ©sultat RÃ©hibitoires (US-3.2) : justifications des rÃ©hibitoires, distincte du pre --- */
.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"],
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] {
  margin-top: var(--space-lg);
  padding: var(--space-md);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.5;
  color: var(--color-text);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .zoneResultatRehibitoiresTitle,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .zoneResultatRehibitoiresTitle,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .zoneResultatRehibitoiresTitle,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .zoneResultatRehibitoiresTitle {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoire,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoire,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoire,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoire {
  margin-bottom: var(--space-md);
  padding: var(--space-sm) 0;
  border-bottom: 1px solid var(--color-border);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoire:last-child,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoire:last-child,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoire:last-child,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoire:last-child {
  margin-bottom: 0;
  border-bottom: none;
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireLabel,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireLabel,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireLabel,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireLabel {
  display: block;
  margin-bottom: var(--space-xs);
  font-weight: 600;
  font-size: 1rem;
  color: var(--color-text);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur {
  display: inline-block;
  margin-bottom: var(--space-xs);
  font-weight: 500;
  font-size: 0.9375rem;
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur[data-valeur="true"],
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur[data-valeur="true"],
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur[data-valeur="true"],
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur[data-valeur="true"] {
  color: var(--color-error);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur[data-valeur="false"],
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireValeur[data-valeur="false"],
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur[data-valeur="false"],
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireValeur[data-valeur="false"] {
  color: var(--color-success);
}

.pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireJustification,
.appMain .pageParametres .blocParametrage-claudecode .zoneResultatRehibitoires .blocResultatRehibitoireJustification,
.pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireJustification,
.appMain .pageParametres .blocParametrage-claudecode [data-layout="zone-resultat-rehibitoires"] .blocResultatRehibitoireJustification {
  display: block;
  margin: var(--space-xs) 0 0;
  padding: var(--space-sm) var(--space-md);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-text-muted);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  white-space: pre-wrap;
  word-break: break-word;
}

/* --- Section ParamÃ©trage IA (US-2.1) --- */
/* MÃªme prÃ©sentation que les autres blocs (Configuration Airtable, Compte email) : pas de padding sur le container */
.pageParametres .parametrageIA[data-layout="parametrage-ia"],
.appMain .pageParametres .parametrageIA[data-layout="parametrage-ia"] {
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-top: var(--space-xl);
}

.pageParametres .parametrageIA .parametrageIATitle,
.appMain .pageParametres .parametrageIA .parametrageIATitle {
  margin: 0 0 var(--space-lg);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

/* Le summary du bloc IA ne doit pas avoir de marge basse (Ã©vite container fermÃ© plus haut que les autres) */
.pageParametres .parametrageIA > summary.parametrageIATitle.blocParametrageSummary,
.appMain .pageParametres .parametrageIA > summary.parametrageIATitle.blocParametrageSummary {
  margin: 0;
}

.pageParametres .parametrageIA .formParametrageIA,
.appMain .pageParametres .parametrageIA .formParametrageIA {
  margin: 0;
}

/* SÃ©parateur horizontal entre les 4 groupes (rÃ©utilise formDivider du design system) */
.pageParametres .parametrageIA .parametrageIADivider,
.appMain .pageParametres .parametrageIA .parametrageIADivider {
  margin: var(--space-xl) 0;
}

.pageParametres .parametrageIA .zoneParametrageIA,
.appMain .pageParametres .parametrageIA .zoneParametrageIA {
  margin-top: var(--space-xl);
}

.pageParametres .parametrageIA .zoneParametrageIA:first-of-type,
.appMain .pageParametres .parametrageIA .zoneParametrageIA:first-of-type {
  margin-top: 0;
}

.pageParametres .parametrageIA .zoneParametrageIATitle,
.appMain .pageParametres .parametrageIA .zoneParametrageIATitle {
  margin: 0 0 var(--space-md);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.pageParametres .parametrageIA .blocCritere,
.appMain .pageParametres .parametrageIA .blocCritere {
  margin-bottom: var(--space-lg);
  display: grid;
  grid-template-columns: 30% 1fr;
  align-items: start;
  gap: 0 var(--space-md);
}

.pageParametres .parametrageIA .blocCritere:last-child,
.appMain .pageParametres .parametrageIA .blocCritere:last-child {
  margin-bottom: 0;
}

/* LibellÃ©s "Titre" / "Description" masquÃ©s visuellement (lâ€™aide en gris suffit), restent pour lâ€™accessibilitÃ© */
.pageParametres .parametrageIA .blocCritereLabel,
.appMain .pageParametres .parametrageIA .blocCritereLabel {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.pageParametres .parametrageIA .blocCritereTitreFixe,
.appMain .pageParametres .parametrageIA .blocCritereTitreFixe {
  grid-column: 1;
  font-weight: 500;
  font-size: 1rem;
  color: var(--color-text);
  padding-top: calc(var(--space-sm) + 1px);
  line-height: 1.5;
}

.pageParametres .parametrageIA .blocCritere input[type="text"],
.appMain .pageParametres .parametrageIA .blocCritere input[type="text"] {
  grid-column: 1;
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .parametrageIA .blocCritere input:focus,
.appMain .pageParametres .parametrageIA .blocCritere input:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

.pageParametres .parametrageIA .blocCritere textarea,
.appMain .pageParametres .parametrageIA .blocCritere textarea {
  grid-column: 2;
  width: 100%;
  min-height: 4.5rem;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
  resize: vertical;
  overflow-y: auto;
}

.pageParametres .parametrageIA .blocCritere textarea[rows="12"],
.appMain .pageParametres .parametrageIA .blocCritere textarea[rows="12"] {
  grid-column: 2;
  min-height: 12em;
}

/* Autres ressources : pas de titre dans le bloc, zone de saisie 100 % largeur */
.pageParametres .parametrageIA .blocAutresRessources.blocCritere,
.appMain .pageParametres .parametrageIA .blocAutresRessources.blocCritere {
  display: block;
}

.pageParametres .parametrageIA .blocAutresRessources.blocCritere textarea,
.appMain .pageParametres .parametrageIA .blocAutresRessources.blocCritere textarea {
  grid-column: unset;
  width: 100%;
  min-height: 12em;
}

.pageParametres .parametrageIA .blocCritere textarea:focus,
.appMain .pageParametres .parametrageIA .blocCritere textarea:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

.pageParametres .parametrageIA .blocCritere input::placeholder,
.pageParametres .parametrageIA .blocCritere textarea::placeholder,
.appMain .pageParametres .parametrageIA .blocCritere input::placeholder,
.appMain .pageParametres .parametrageIA .blocCritere textarea::placeholder {
  color: var(--color-text-muted);
}

/* Zones obligatoires (Scores incontournables) non renseignÃ©es : fond rose pastel */
.pageParametres .parametrageIA .zoneScoresIncontournables textarea:placeholder-shown,
.appMain .pageParametres .parametrageIA .zoneScoresIncontournables textarea:placeholder-shown {
  background-color: var(--color-error-bg);
}

.pageParametres .parametrageIA .actions.actionsParametrageIA,
.appMain .pageParametres .parametrageIA .actions.actionsParametrageIA {
  margin-top: var(--space-xl);
  margin-bottom: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: var(--space-md);
}

.pageParametres .parametrageIA .actions.actionsParametrageIA button,
.appMain .pageParametres .parametrageIA .actions.actionsParametrageIA button {
  min-height: var(--touch-min);
  min-width: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
}

.pageParametres .parametrageIA .actions.actionsParametrageIA button:hover,
.appMain .pageParametres .parametrageIA .actions.actionsParametrageIA button:hover {
  background: var(--color-primary-hover);
}

.pageParametres .parametrageIA .actions.actionsParametrageIA button:focus,
.appMain .pageParametres .parametrageIA .actions.actionsParametrageIA button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

.pageParametres .parametrageIA .actions.actionsParametrageIA button:disabled,
.appMain .pageParametres .parametrageIA .actions.actionsParametrageIA button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

/* --- Zone Prompt IA (US-2.3) --- */
.pageParametres .parametrageIA .promptIAPartieFixeTexte,
.appMain .pageParametres .parametrageIA .promptIAPartieFixeTexte {
  display: block;
  width: 100%;
  margin: var(--space-md) 0 0;
  padding: var(--space-md);
  font-family: var(--font-mono);
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
  white-space: pre-wrap;
  overflow: auto;
  max-height: 20rem;
}

.pageParametres .parametrageIA details .promptIAPartieFixeTexte,
.appMain .pageParametres .parametrageIA details .promptIAPartieFixeTexte {
  margin-top: var(--space-sm);
}

.pageParametres .parametrageIA details summary,
.appMain .pageParametres .parametrageIA details summary {
  cursor: pointer;
  font-weight: 500;
  color: var(--color-text);
  padding: var(--space-xs) 0;
}

.pageParametres .parametrageIA .zonePromptModifiable,
.appMain .pageParametres .parametrageIA .zonePromptModifiable {
  display: block;
  width: 100%;
  min-height: 50em;
  margin-top: var(--space-md);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-mono);
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
  resize: vertical;
  overflow-y: auto;
}

.pageParametres .parametrageIA .zonePromptModifiable:focus,
.appMain .pageParametres .parametrageIA .zonePromptModifiable:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

.pageParametres .parametrageIA .zonePromptModifiable::placeholder,
.appMain .pageParametres .parametrageIA .zonePromptModifiable::placeholder {
  color: var(--color-text-muted);
}

.pageParametres .parametrageIA .actionsPromptIA,
.appMain .pageParametres .parametrageIA .actionsPromptIA {
  margin-top: var(--space-xl);
  margin-bottom: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: var(--space-md);
}

.pageParametres .parametrageIA .actionsPromptIA button,
.appMain .pageParametres .parametrageIA .actionsPromptIA button {
  min-height: var(--touch-min);
  min-width: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
  color: var(--color-on-primary);
  background: var(--color-primary);
  border: none;
}

.pageParametres .parametrageIA .actionsPromptIA button:hover,
.appMain .pageParametres .parametrageIA .actionsPromptIA button:hover {
  background: var(--color-primary-hover);
}

.pageParametres .parametrageIA .actionsPromptIA button:focus,
.appMain .pageParametres .parametrageIA .actionsPromptIA button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

.pageParametres .parametrageIA .actionsPromptIA button:disabled,
.appMain .pageParametres .parametrageIA .actionsPromptIA button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

/* --- Bloc Formule du score total (US-2.7) â€” mÃªme prÃ©sentation que les autres blocs ParamÃ¨tres --- */
.pageParametres .blocParametrage-formuleScoreTotal.formuleScoreTotal,
.appMain .pageParametres .blocParametrage-formuleScoreTotal.formuleScoreTotal {
  /* HÃ©rite de .blocParametrage : carte, summary, content */
}

.pageParametres .blocParametrage-formuleScoreTotal .blocFormuleScoreTotalContent,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .blocFormuleScoreTotalContent {
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
}

/* Zones (coefficients, formule, variables) */
.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotal,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotal {
  margin: 0;
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotal .fieldGroupLabel,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotal .fieldGroupLabel {
  display: block;
  margin: 0 0 var(--space-sm);
  font-weight: 600;
  font-size: 1rem;
  color: var(--color-text);
}

/* Ligne des 8 coefficients : grille responsive */
.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalCoefficientsRow[data-layout="coefficients-row"],
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalCoefficientsRow {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));
  gap: var(--space-md);
  align-items: end;
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef {
  margin-bottom: 0;
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef label,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef label {
  display: block;
  margin-bottom: var(--space-xs);
  font-weight: 500;
  font-size: 0.9375rem;
  color: var(--color-text);
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef input[type="number"],
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef input[type="number"] {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef input[type="number"]:focus,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-coef input[type="number"]:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

/* Zone formule : label + textarea */
.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule .blocCritereLabel,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule .blocCritereLabel {
  display: block;
  margin: 0 0 var(--space-sm);
  font-weight: 600;
  font-size: 1rem;
  color: var(--color-text);
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule textarea.zoneFormuleScoreTotalFormule,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule textarea.zoneFormuleScoreTotalFormule {
  display: block;
  width: 100%;
  min-height: 8rem;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-mono);
  font-size: 0.9375rem;
  line-height: 1.5;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
  resize: vertical;
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule textarea.zoneFormuleScoreTotalFormule:focus,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalFormule textarea.zoneFormuleScoreTotalFormule:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

/* Liste des variables : grille pour sÃ©lection/copie facile */
.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariablesList,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariablesList {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  margin: 0;
  padding: var(--space-md);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariable[data-variable-name],
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariable {
  display: inline-block;
  padding: var(--space-xs) var(--space-sm);
  font-family: var(--font-mono);
  font-size: 0.875rem;
  color: var(--color-text);
  background: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  user-select: all;
  cursor: text;
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariable:hover,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariable:hover {
  border-color: var(--color-primary);
  background: var(--color-bg);
}

/* Texte d'aide et lien doc */
.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalAide,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalAide {
  margin: 0;
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--color-text-muted);
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc {
  margin: var(--space-xs) 0 0;
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a {
  color: var(--color-primary);
  text-decoration: none;
  font-weight: 500;
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a:hover,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a:hover {
  color: var(--color-primary-hover);
  text-decoration: underline;
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a:focus,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc a:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.3);
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc .btnExterne,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalDoc .btnExterne {
  min-height: var(--touch-min);
  min-width: var(--touch-min);
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalScoreLabel,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalScoreLabel {
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: var(--space-xs);
  font-size: 0.875rem;
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariableName,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalVariableName {
  margin: var(--space-xs) 0 0;
  font-size: 0.75rem;
  color: var(--color-text-muted);
  font-style: italic;
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTest,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTest {
  margin-top: var(--space-xl);
  padding-top: var(--space-lg);
  border-top: 1px solid var(--color-border);
}

.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalTestHint,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalTestHint {
  margin: 0 0 var(--space-md);
  font-size: 0.875rem;
  color: var(--color-text-muted);
}

/* Test : mÃªme grille que Coefficients (formuleScoreTotalCoefficientsRow) */
.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTest .formuleScoreTotalCoefficientsRow,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTest .formuleScoreTotalCoefficientsRow {
  margin-bottom: var(--space-lg);
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-test-score,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup.fieldGroup-test-score {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup-test-score .formuleScoreTotalScoreLabel,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup-test-score .formuleScoreTotalScoreLabel {
  font-weight: 600;
  font-size: 0.9375rem;
  color: var(--color-text);
  margin: 0 0 var(--space-xs);
}

/* Score saisissable (blanc), mÃªme rendu que lâ€™input coefficients */
.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTestScoreInput,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTestScoreInput {
  width: 100%;
  min-height: var(--input-min-height);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text);
  background: var(--color-bg-input);
  border: 1px solid var(--color-input-border);
  border-radius: var(--radius-sm);
  box-sizing: border-box;
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTestScoreInput:focus,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneFormuleScoreTotalTestScoreInput:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.2);
}

/* Coef en lecture seule (recopiÃ© du bloc Coefficients) */
.pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalCoefValue,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .formuleScoreTotalCoefValue {
  margin: 0;
  font-size: 0.8125rem;
  color: var(--color-text-muted);
}

.pageParametres .blocParametrage-formuleScoreTotal .fieldGroup-test-score .formuleScoreTotalVariableName,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .fieldGroup-test-score .formuleScoreTotalVariableName {
  margin: 0;
}

/* Zone rÃ©sultat test : formule avec valeurs = score total (gris) */
.pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest,
.pageParametres .blocParametrage-formuleScoreTotal .zoneResultatMeilleureOffre,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneResultatMeilleureOffre {
  margin-top: var(--space-md);
  padding: var(--space-md);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest .zoneResultatFormuleTestFormule,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest .zoneResultatFormuleTestFormule {
  font-family: var(--font-mono);
  margin: 0 0 var(--space-xs);
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest .zoneResultatFormuleTestDetail,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneResultatFormuleTest .zoneResultatFormuleTestDetail {
  margin: 0;
  font-size: 0.8125rem;
  color: var(--color-text-muted);
}

.pageParametres .blocParametrage-formuleScoreTotal .zoneResultatMeilleureOffre .btnExterne,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .zoneResultatMeilleureOffre .btnExterne {
  margin-top: var(--space-sm);
}

/* Boutons : Formule par dÃ©faut (.btnAction) + Enregistrer (.btnEnregistrement) */
.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal {
  margin-top: 0;
  margin-bottom: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: var(--space-md);
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button {
  min-height: var(--touch-min);
  min-width: var(--touch-min);
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnEnregistrement,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnEnregistrement {
  color: var(--color-on-primary);
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnAction,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnAction {
  color: var(--color-text);
  background: var(--color-bg);
  border-color: var(--color-border);
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnEnregistrement:hover,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnEnregistrement:hover {
  background: var(--color-primary-hover);
  border-color: var(--color-primary-hover);
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnAction:hover,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button.btnAction:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
}

.pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button:focus,
.appMain .pageParametres .blocParametrage-formuleScoreTotal .actions.actionsFormuleScoreTotal button:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(44, 82, 130, 0.4);
}

/* --- Responsive (mobile-first : base = mobile) --- */
@media (min-width: 480px) {
  body.parametrageCompteEmail,
  .appMain .parametrageCompteEmail {
    padding: var(--space-xl) var(--space-lg);
  }

  .pageTableauDeBord .boutonLancerTraitement,
  .pageTableauDeBord .boutonRafraichirSynthese,
  .pageTableauDeBord .boutonWorkerEnrichissement,
  .pageTableauDeBord .boutonOuvrirAirtable,
  .pageTableauDeBord .boutonCalculerConsommationApi,
  .pageTableauDeBord .boutonCalculerHistogrammeScores {
    display: inline-block;
  }
}

@media (min-width: 640px) {
  .pageTableauDeBord .dossierBoiteContainer > h2 {
    font-size: 1.25rem;
  }
}

/* --- Page Audit du code (traÃ§abilitÃ© US â†” code, mode dev) --- */
.pageAudit h1 {
  font-size: 1.5rem;
  margin-bottom: var(--space-md);
}
.pageAudit .auditNoData {
  padding: var(--space-lg);
  background: var(--color-bg);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
}
.pageAudit .auditMeta {
  margin-bottom: var(--space-md);
  font-size: 0.9rem;
  color: var(--color-text-muted);
}
.pageAudit .auditFilters {
  margin-bottom: var(--space-md);
  display: flex;
  gap: var(--space-md);
  flex-wrap: wrap;
}
.pageAudit .auditTabs {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
  margin-bottom: var(--space-md);
  border-bottom: 1px solid var(--color-border);
}
.pageAudit .auditTab {
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--color-border);
  border-bottom: none;
  border-radius: var(--radius-sm) var(--radius-sm) 0 0;
  background: var(--color-bg);
  cursor: pointer;
  font-size: 0.95rem;
}
.pageAudit .auditTab[aria-selected="true"] {
  background: var(--color-bg-card);
  font-weight: 600;
  margin-bottom: -1px;
}
.pageAudit .auditTable {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
  table-layout: fixed;
}
.pageAudit .auditTable th,
.pageAudit .auditTable td {
  padding: var(--space-xs) var(--space-sm);
  text-align: left;
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 0;
}
.pageAudit .auditTable th:nth-child(1),
.pageAudit .auditTable td:nth-child(1) { width: 12%; }
.pageAudit .auditTable th:nth-child(2),
.pageAudit .auditTable td:nth-child(2) { width: 12%; }
.pageAudit .auditTable th:nth-child(3),
.pageAudit .auditTable td:nth-child(3) { width: 18%; white-space: normal; max-width: none; }
.pageAudit .auditTable th:nth-child(4),
.pageAudit .auditTable td:nth-child(4) { width: 22%; }
.pageAudit .auditTable th:nth-child(5),
.pageAudit .auditTable td:nth-child(5) { width: 22%; }
.pageAudit .auditTable th:nth-child(6),
.pageAudit .auditTable td:nth-child(6) { width: 6%; }
.pageAudit .auditTable th {
  background: var(--color-bg);
  font-weight: 600;
}
.pageAudit .auditTable td {
  vertical-align: middle;
}
.pageAudit .auditPanel[hidden] {
  display: none;
}
